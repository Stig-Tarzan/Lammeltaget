-- phpMyAdmin SQL Dump
-- version 4.6.4
-- https://www.phpmyadmin.net/
--
-- Värd: 127.0.0.1
-- Tid vid skapande: 28 maj 2017 kl 22:28
-- Serverversion: 5.7.14
-- PHP-version: 5.6.25

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Databas: `lammeltaget`
--

-- --------------------------------------------------------

--
-- Tabellstruktur `comment`
--

CREATE TABLE `comment` (
  `commentID` int(11) NOT NULL,
  `trailID` int(11) NOT NULL,
  `userID` int(11) NOT NULL,
  `content` text NOT NULL,
  `date` date NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumpning av Data i tabell `comment`
--

INSERT INTO `comment` (`commentID`, `trailID`, `userID`, `content`, `date`) VALUES
(68, 43, 60, 'Det hÃ¤r Ã¤r min favorit!', '2017-05-28'),
(69, 43, 60, 'Det hÃ¤r Ã¤r min favorit!', '2017-05-28'),
(71, 44, 60, 'Det hÃ¤r var en riktigt snurrig en!', '2017-05-28'),
(72, 44, 60, 'Det hÃ¤r var en riktigt snurrig en!', '2017-05-28'),
(73, 43, 62, 'Det hÃ¤r var inte mycket fÃ¶r vÃ¤rlden...', '2017-05-28');

-- --------------------------------------------------------

--
-- Tabellstruktur `map`
--

CREATE TABLE `map` (
  `mapID` int(11) NOT NULL,
  `trailID` int(11) NOT NULL,
  `apiID` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- --------------------------------------------------------

--
-- Tabellstruktur `trail`
--

CREATE TABLE `trail` (
  `trailID` int(11) NOT NULL,
  `userID` int(11) NOT NULL,
  `trailName` text NOT NULL,
  `creationDate` date NOT NULL,
  `trailInfoText` text NOT NULL,
  `trailShape` text NOT NULL,
  `difficultyLevel` int(5) NOT NULL,
  `trailLength` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumpning av Data i tabell `trail`
--

INSERT INTO `trail` (`trailID`, `userID`, `trailName`, `creationDate`, `trailInfoText`, `trailShape`, `difficultyLevel`, `trailLength`) VALUES
(43, 60, 'Led runt Ã–ningby', '2017-05-28', 'HÃ¤r tar vi en tur runt byn, Ã–ningeby', '60.1004994273968,20.03771308103751,60.101205370639285,20.037498504316318,60.10185781988198,20.03694060484122,60.10255303846153,20.036082297956455,60.103611881687655,20.036253959333408,60.104627911494916,20.035824805563607,60.105194735467244,20.035696059530892,60.10544057915991,20.034647048305487,60.106937791944965,20.03404623348615,60.10849909849994,20.03258711178205,60.10978230874711,20.033273757289862,60.109910627022,20.034647048305487,60.109568443844594,20.036406577419257,60.108028575548815,20.037221968959784,60.109504284103025,20.03833776790998,60.109910627022,20.039453566860175,60.10939735092266,20.040655196498847,60.10757943373389,20.041170180629706,60.107237226335336,20.04108434994123,60.10614641652351,20.04005438167951,60.10578280522512,20.039367736171698,60.10544057915991,20.037651122402167,60.10529085413829,20.03705030758283,60.10439248971661,20.03507620174787,60.10323741374427,20.035419524501776,60.10246734059465,20.03580576259992,60.101782816015984,20.036621154140448,60.101010268482376,20.037807829776284,60.10044872056522,20.03765226165342', 2, 3016),
(44, 62, 'Henriksfaran', '2017-05-28', 'En krÃ¤vande tur fÃ¶r de erfarna. Ta med rikligt med nÃ¤ring och dryck!', '62.53354050093505,17.24174595088698,62.540507108386834,17.223206511698663,62.54493955552997,17.206727019511163,62.55190349644235,17.179261199198663,62.564244660641805,17.15110873337835,62.57752942123305,17.1263894950971,62.58954387254077,17.10716342087835,62.59776147530665,17.07969760056585,62.60787232778227,17.04124545212835,62.61829553924582,17.0220193779096,62.628399400791494,16.987000457011163,62.64386427164418,16.954728118143976,62.6504896047815,16.937561980448663,62.65388351681584,16.964283225825056,62.65277952391722,16.97492623119615,62.645287056935274,16.98471092968248,62.64150066906257,16.986599204828963,62.63818718293279,16.989860770991072,62.63471551455369,16.994323966791853,62.632821705937424,17.004280326655135,62.63297952794121,17.008743522455916,62.630927776383196,17.022819755366072,62.6272964143239,17.042236800771207,62.641499677183134,17.052536483388394,62.64244631952323,17.094421859364957,62.632505067229985,17.134590626810677,62.63723745742057,17.245179175806697,62.64354874264874,17.25959873147076,62.64354874264874,17.234192847681697,62.65427484454721,17.217026709986385,62.67382421531778,17.227326392603572,62.68233361839322,17.24861240334576,62.69115560098859,17.306977271509822,62.67350900526031,17.36122226662701,62.64354874264874,17.370148658228572,62.63660625500274,17.368775367212947,62.63281875832609,17.36671543068951,62.62492658648017,17.37495517678326,62.62208489055044,17.37770175881451,62.61955871011462,17.381134986353572,62.62224473546194,17.390709399915067,62.629190585389004,17.391052722668974,62.62556000305872,17.396202563977567,62.62319199257696,17.397575854993192,62.62192897636977,17.397575854993192,62.61813960515352,17.39517259571585,62.61608682702456,17.392082690930692,62.61371806043458,17.383842944836942,62.61277050086391,17.375603198743192,62.61182291104378,17.363243579602567,62.61055941089435,17.360496997571317,62.6083481562244,17.353630542493192,62.606768587761024,17.345390796399442,62.604083128502765,17.33371782276663,62.60313525172072,17.330971242045052,62.60250332348488,17.306595323898364,62.60187138180144,17.29320573649602,62.60076545149648,17.282562731124926,62.59981747845521,17.267113207199145,62.59950148071724,17.25647020182805,62.59950148071724,17.24479722819524,62.598079449289386,17.23381090007024,62.5972894024098,17.217674730636645,62.592864751523145,17.208748339035083,62.575792066406144,17.19741869077552,62.56820105779143,17.209091664408334,62.54810518520025,17.28569126338698,62.53797398515425,17.270585062215105,62.53354050093505,17.256852152058855', 5, 82131);

-- --------------------------------------------------------

--
-- Tabellstruktur `user`
--

CREATE TABLE `user` (
  `userID` int(11) NOT NULL,
  `admin` tinyint(1) NOT NULL,
  `userName` varchar(255) NOT NULL,
  `email` varchar(255) NOT NULL,
  `password` text NOT NULL,
  `salt` text,
  `firstName` varchar(255) DEFAULT NULL,
  `lastName` varchar(255) DEFAULT NULL,
  `dateOfBirth` varchar(255) DEFAULT NULL,
  `adress` varchar(255) DEFAULT NULL,
  `postalCode` varchar(255) DEFAULT NULL,
  `postalCity` varchar(255) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumpning av Data i tabell `user`
--

INSERT INTO `user` (`userID`, `admin`, `userName`, `email`, `password`, `salt`, `firstName`, `lastName`, `dateOfBirth`, `adress`, `postalCode`, `postalCity`) VALUES
(60, 0, 'Stig', 'john.f.almqvist@gmail.com', 'e7ff7e59cdc77960721b4b6aa62e54f7e4ce0e9a', '07e13001f2ab40711cdbca', '0', 'hanke', '1911-01-28', 'VÃ¤ktargatan 26', '75422', 'Uppsala'),
(61, 1, 'admin', 'admin@admin.se', 'fe1933976eaa4165792777bad22912fe26431ff4', '5415d00498e0ae2ea2e0fb', '0', 'Adele', '9199-01-28', 'Vaksalatorg', '75244', 'Uppsala'),
(62, 0, 'Jan-Emanuel', 'Janne61@gmail.com', '1f831c9452f8c7852558b2cec79b14f045ece615', '3ed2347ddacbb088c9419a', '0', 'Evert', '1961-01-21', 'Hans', '74249', 'StrÃ¤ngnÃ¤s');

-- --------------------------------------------------------

--
-- Tabellstruktur `vote`
--

CREATE TABLE `vote` (
  `voteID` int(255) NOT NULL,
  `userID` int(255) NOT NULL,
  `trailID` int(255) NOT NULL,
  `vote` int(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumpning av Data i tabell `vote`
--

INSERT INTO `vote` (`voteID`, `userID`, `trailID`, `vote`) VALUES
(22, 62, 43, 1),
(23, 62, 44, 1),
(24, 60, 43, 1),
(25, 60, 44, -1),
(26, 61, 44, 1),
(27, 61, 43, 1);

--
-- Index för dumpade tabeller
--

--
-- Index för tabell `comment`
--
ALTER TABLE `comment`
  ADD PRIMARY KEY (`commentID`),
  ADD KEY `trailID` (`trailID`),
  ADD KEY `userID` (`userID`);

--
-- Index för tabell `map`
--
ALTER TABLE `map`
  ADD PRIMARY KEY (`mapID`),
  ADD KEY `mapID` (`mapID`),
  ADD KEY `trailID` (`trailID`),
  ADD KEY `mapID_2` (`mapID`),
  ADD KEY `mapID_3` (`mapID`);

--
-- Index för tabell `trail`
--
ALTER TABLE `trail`
  ADD PRIMARY KEY (`trailID`),
  ADD KEY `userID` (`userID`),
  ADD KEY `trailID` (`trailID`);

--
-- Index för tabell `user`
--
ALTER TABLE `user`
  ADD PRIMARY KEY (`userID`),
  ADD KEY `userName` (`userName`),
  ADD KEY `userID` (`userID`);

--
-- Index för tabell `vote`
--
ALTER TABLE `vote`
  ADD PRIMARY KEY (`voteID`),
  ADD KEY `userID` (`userID`),
  ADD KEY `trailID` (`trailID`);

--
-- AUTO_INCREMENT för dumpade tabeller
--

--
-- AUTO_INCREMENT för tabell `comment`
--
ALTER TABLE `comment`
  MODIFY `commentID` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=74;
--
-- AUTO_INCREMENT för tabell `map`
--
ALTER TABLE `map`
  MODIFY `mapID` int(11) NOT NULL AUTO_INCREMENT;
--
-- AUTO_INCREMENT för tabell `trail`
--
ALTER TABLE `trail`
  MODIFY `trailID` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=45;
--
-- AUTO_INCREMENT för tabell `user`
--
ALTER TABLE `user`
  MODIFY `userID` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=63;
--
-- AUTO_INCREMENT för tabell `vote`
--
ALTER TABLE `vote`
  MODIFY `voteID` int(255) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=28;
--
-- Restriktioner för dumpade tabeller
--

--
-- Restriktioner för tabell `comment`
--
ALTER TABLE `comment`
  ADD CONSTRAINT `comment_ibfk_1` FOREIGN KEY (`userID`) REFERENCES `user` (`userID`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `comment_ibfk_2` FOREIGN KEY (`trailID`) REFERENCES `trail` (`trailID`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Restriktioner för tabell `map`
--
ALTER TABLE `map`
  ADD CONSTRAINT `map_ibfk_1` FOREIGN KEY (`trailID`) REFERENCES `trail` (`trailID`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Restriktioner för tabell `trail`
--
ALTER TABLE `trail`
  ADD CONSTRAINT `trail_ibfk_1` FOREIGN KEY (`userID`) REFERENCES `user` (`userID`) ON UPDATE CASCADE;

--
-- Restriktioner för tabell `vote`
--
ALTER TABLE `vote`
  ADD CONSTRAINT `vote_ibfk_1` FOREIGN KEY (`trailID`) REFERENCES `trail` (`trailID`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `vote_ibfk_2` FOREIGN KEY (`userID`) REFERENCES `user` (`userID`) ON DELETE CASCADE ON UPDATE CASCADE;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
