-- phpMyAdmin SQL Dump
-- version 4.6.4
-- https://www.phpmyadmin.net/
--
-- Värd: 127.0.0.1
-- Tid vid skapande: 26 maj 2017 kl 13:02
-- Serverversion: 5.7.14
-- PHP-version: 5.6.25

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Databas: `lammeltaget`
--

-- --------------------------------------------------------

--
-- Tabellstruktur `comment`
--

CREATE TABLE `comment` (
  `commentID` int(11) NOT NULL,
  `trailID` int(11) NOT NULL,
  `userID` int(11) NOT NULL,
  `content` text NOT NULL,
  `date` date NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumpning av Data i tabell `comment`
--

INSERT INTO `comment` (`commentID`, `trailID`, `userID`, `content`, `date`) VALUES
(1, 34, 55, 'Test', '2017-05-25'),
(2, 34, 55, 'Utan fnuttes', '2017-05-25'),
(3, 34, 58, 'Du vet hur man trycker pÃ¥ mina knappar', '2017-05-25'),
(4, 34, 58, 'Hej, \n\nFint kommentarssytemet', '2017-05-25'),
(5, 34, 58, 'Hej, \n\nFint kommentarssytemet', '2017-05-25'),
(6, 34, 58, 'HEj!', '2017-05-25'),
(7, 34, 58, 'Hej!!!', '2017-05-25'),
(8, 34, 58, 'Ny kommentar', '2017-05-25'),
(9, 34, 58, 'Ny kommentar', '2017-05-25'),
(10, 34, 58, 'Hej!!!!!!!!!!!!', '2017-05-25'),
(11, 34, 55, 'Ny kommentar hejhopp', '2017-05-25'),
(12, 23, 55, 'Hej, detta ser jobbigt ut', '2017-05-25'),
(13, 23, 55, 'Hej, detta ser jobbigt ut', '2017-05-25'),
(14, 23, 55, 'Hej', '2017-05-25'),
(15, 23, 55, 'Jag kan kommentera', '2017-05-25'),
(16, 35, 58, 'Gamla minnen', '2017-05-25'),
(17, 23, 58, 'Hej', '2017-05-25'),
(18, 34, 58, 'Hej! \nKommentera kommentera kommentera\n', '2017-05-25'),
(19, 23, 58, 'Comments comments', '2017-05-25'),
(20, 35, 55, 'Hej, fin led', '2017-05-26'),
(21, 23, 55, 'Hej, filips led', '2017-05-26'),
(22, 35, 55, 'Detta Ã¤r inte bra', '2017-05-26'),
(23, 34, 55, 'KOmmentarer kommentarer hej kommentarer', '2017-05-26');

-- --------------------------------------------------------

--
-- Tabellstruktur `image`
--

CREATE TABLE `image` (
  `imageID` int(11) NOT NULL,
  `trailID` int(11) NOT NULL,
  `imageSource` text NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- --------------------------------------------------------

--
-- Tabellstruktur `map`
--

CREATE TABLE `map` (
  `mapID` int(11) NOT NULL,
  `trailID` int(11) NOT NULL,
  `apiID` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- --------------------------------------------------------

--
-- Tabellstruktur `trail`
--

CREATE TABLE `trail` (
  `trailID` int(11) NOT NULL,
  `userID` int(11) NOT NULL,
  `trailName` varchar(255) NOT NULL,
  `creationDate` date NOT NULL,
  `trailInfoText` text NOT NULL,
  `trailShape` text NOT NULL,
  `difficultyLevel` int(5) NOT NULL,
  `trailLength` int(111) NOT NULL,
  `upVotes` int(11) NOT NULL,
  `downVotes` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumpning av Data i tabell `trail`
--

INSERT INTO `trail` (`trailID`, `userID`, `trailName`, `creationDate`, `trailInfoText`, `trailShape`, `difficultyLevel`, `trailLength`, `upVotes`, `downVotes`) VALUES
(23, 55, 'Filips sÃ¶ndagssvÃ¤ngom', '2017-05-23', 'Buss till enkÃ¶ping, Ã¥ngestgÃ¥ng tillbaka', '59.637714606663124,17.085216497071087,59.642369436139475,17.09887218894437,59.64566603794365,17.10882854880765,59.6461865244132,17.122218136209995,59.6479214210013,17.134234432596713,59.6486153545187,17.139727596659213,59.6479214210013,17.14384746970609,59.64930927368334,17.148997311014682,59.65347248727425,17.173716549295932,59.65451320994377,17.182642940897495,59.65624767597115,17.191912655252963,59.65659455841357,17.203928951639682,59.659369488800344,17.221781734842807,59.661450535917574,17.23070812644437,59.661450535917574,17.265727047342807,59.675691402419595,17.275327207753435,59.69143794711179,17.278773311991245,59.71481989541446,17.27740001049824,59.73126407273375,17.297999375732616,59.74406761982972,17.311732285888866,59.750294599241485,17.347781175049022,59.75997870604839,17.372500413330272,59.765511222373114,17.3855466832174,59.779511305306656,17.407862662221305,59.79143267154701,17.435328482533805,59.804903870331884,17.452837942983024,59.819405230483916,17.492663383090985,59.830622196906425,17.50639629783109,59.83993803118089,17.528712276834995,59.845112368616974,17.551714901346713,59.85373447723729,17.59154034079984,59.85401681036324,17.60457372874953,59.857464999137555,17.612641813466325,59.855349252052875,17.614434600400273,59.85345267185024,17.61627996020252,59.85254744773451,17.61726701312,59.853150933214465,17.620185256528202,59.8540836192585,17.621941566467285,59.85560786825034,17.62550675921375,59.85590958460679,17.626365066098515,59.8557802779319,17.628124595212284,59.855974237755774,17.62846791796619,59.85655611044338,17.629841208981816,59.856814717260335,17.63044202380115,59.85690091908598,17.63177239947254,59.85761503835156,17.632028281950625,59.85762581333279,17.63460320260492,59.8545949433288,17.640055060910527,59.85512592417869,17.642027557158144,59.85630046445922,17.645718276762636', 1, 44820, 57, 31),
(34, 58, 'Henkes knÃ¤ppakanot', '2017-05-25', 'Denna tar jag nÃ¤r jag ska hem ', '62.34756782149854,17.02031135559082,62.347693176011234,17.021880179709115,62.34842014576479,17.023146182364144,62.348698978807285,17.02374699718348,62.348698978807285,17.024433642691292,62.34969478995963,17.024111777609505,62.35592545517361,17.022638440394076,62.35911116746044,17.021350980066927,62.35986772442904,17.011909604334505,62.36002699714961,17.0060731175181,62.361340964834746,16.992683530115755,62.36201782996129,16.9882203330053,62.36488440414231,16.977663158322684,62.364964027293006,16.97380077734124,62.36444647303582,16.967964290524833,62.36396872271918,16.959381221677177,62.3630131992605,16.93981181946583,62.364406660800036,16.925220602424815,62.365003838789086,16.919555776985362,62.36906433385619,16.906681173713878,62.3700196645793,16.89887058106251,62.37336308248376,16.88642513123341,62.3743182762804,16.87990199890919,62.374517271158304,16.87363636912778,62.374517271158304,16.870203141588718,62.37555202323597,16.86591160716489,62.37519384386536,16.858959321398288,62.37439787439002,16.855783585924655,62.374517271158304,16.845483903307468,62.374238677959454,16.839990739244968,62.37499485347739,16.823768739122897,62.37435807536161,16.802654389757663,62.38259534807404,16.76797879161313,62.41409543781683,16.614838633686304,62.41533128940945,16.60944467992522,62.41632488949538,16.60343653173186,62.416364632812815,16.599488320061937,62.416384504451734,16.59588343114592,62.41574860546267,16.592278542229906,62.415053075475114,16.586785378167406,62.415053075475114,16.583609642693773,62.415152437891365,16.581635536858812,62.41650373400825,16.582837166497484', 1, 25791, 4, 1),
(35, 55, 'KyrkbrÃ¤nnarled i orten', '2017-05-25', 'HÃ¤ng med!\nNU blir det Ã¥ka av', '59.32046475851853,18.0717469456431,59.32042096460328,18.070545316004427,59.320026816827,18.070545316004427,59.3197640491038,18.069343686365755,59.3197108788154,18.068830981883366,59.31956307097258,18.068176522720023,59.31910321985057,18.068455472457572,59.31921818321426,18.069582000243827,59.31935504385458,18.070654883849784,59.31720900555539,18.071792140635807,59.31573290954495,18.07253363726886,59.31565413802166,18.072628989807527,59.31488762789929,18.072972312561433,59.31427988259138,18.07336927950587,59.312943899931014,18.073884263626496,59.30777133023564,18.076524764692294,59.30653366844654,18.077297240888583,59.30288613769528,18.079292804395664,59.30175784327128,18.08010819593619,59.29957570632183,18.081319347220415,59.29939158974017,18.081202537214267,59.299216305153315,18.07940009275626,59.29911558484532,18.079077020483965,59.29895125423843,18.079077020483965,59.29873214552783,18.07894827445125,59.29812958929753,18.075643792944902,59.296411184242395,18.07555735866117,59.29615203432345,18.077553525436088,59.296159190290936,18.079071052306972,59.29498516819134,18.078540578353568,59.29467837984187,18.07820798443572,59.2946455094975,18.078068509566947,59.29437158872635,18.078626409042045,59.29419079980946,18.078808799255057,59.294234627513895,18.079098477828666,59.293829219094036,18.079634919631644,59.2917966256915,18.082381501662894,59.29175827370559,18.082327858137432,59.29199934261318,18.081823602842633,59.29165965411486,18.08086873643333,59.29088712409957,18.081952348875348,59.289813223456946,18.083218351530377,59.28996876281088,18.083584339474328,59.28992492961213,18.08448556170333,59.288368814479995,18.085730106686242,59.288184809151836,18.085481532179983,59.288837916980796,18.084098115432425,59.28833381503716,18.083282723891898,59.287944774737056,18.08195234822051,59.28717215905536,18.080128446090384,59.28712832225476,18.080085530746146,59.2869584541192,18.080310836303397,59.28692557631763,18.080428853500052,59.28667351211712,18.079570546615287,59.286454324338514,18.079828038680716,59.28662967467433,18.08048249768035,59.2865693980983,18.080686345565482,59.2865693980983,18.080890193450614,59.286481722888055,18.081083312499686,59.28599402540911,18.0817699580075,59.28506792894149,18.08271409558074,59.28489257056019,18.082134738433524,59.28510080853739,18.081791415679618,59.284930930283316,18.081362262237235,59.284684331309144,18.080632701385184,59.28460761126393,18.080536141860648,59.284344569796254,18.08073998974578,59.28444321058482,18.08149100826995,59.28428976923465,18.080793633926078,59.2841308471071,18.080922379958793,59.283911642955104,18.081115499007865,59.27862503725158,18.086373836849816,59.27838387360855,18.087210686062463,59.27832906345144,18.088347942684777,59.27817559454219,18.091652424191125,59.27554459138266,18.091223270748742,59.274963550781266,18.091201813076623,59.271597705465204,18.085193664883263,59.2713016705811,18.084678680752404,59.27069862859848,18.085665733669885,59.26933900386464,18.088476688717492,59.2692183893722,18.088476688717492,59.26689373571559,18.084163696621545,59.26606033067868,18.08300498101744,59.26521593899237,18.082790404296247,59.26429476055498,18.08300498101744,59.26372449475403,18.083176642394392,59.26421799456086,18.081653147673933', 5, 8887, 67, 0);

-- --------------------------------------------------------

--
-- Tabellstruktur `user`
--

CREATE TABLE `user` (
  `userID` int(11) NOT NULL,
  `userName` varchar(255) NOT NULL,
  `email` varchar(255) NOT NULL,
  `password` text NOT NULL,
  `salt` text,
  `firstName` varchar(255) DEFAULT NULL,
  `lastName` varchar(255) DEFAULT NULL,
  `dateOfBirth` date DEFAULT NULL,
  `adress` varchar(255) DEFAULT NULL,
  `postalCode` varchar(5) DEFAULT NULL,
  `postalCity` varchar(255) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumpning av Data i tabell `user`
--

INSERT INTO `user` (`userID`, `userName`, `email`, `password`, `salt`, `firstName`, `lastName`, `dateOfBirth`, `adress`, `postalCode`, `postalCity`) VALUES
(53, 'Krypterad', '123@gmail.com', '40bd001563085fc35165329ea1ff5c5ecbdbbeef', 'a7bb625777dc0c0df839a5', NULL, NULL, NULL, NULL, NULL, NULL),
(55, '123', '123', '2a67dec90998db3f5c9dbbc4ef1aaa4409c30722', 'ba7ac0cb1c036e6856c746', NULL, NULL, NULL, NULL, NULL, NULL),
(58, 'Stig-Tarzan', 'John.f.almqvist@gmail.com', 'fc1303730bb840d60bb84e032b8673af29236317', '90e2fabf9d4913e73d3831', NULL, NULL, NULL, NULL, NULL, NULL);

-- --------------------------------------------------------

--
-- Tabellstruktur `vote`
--

CREATE TABLE `vote` (
  `voteID` int(255) NOT NULL,
  `userID` int(255) NOT NULL,
  `trailID` int(255) NOT NULL,
  `vote` int(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Index för dumpade tabeller
--

--
-- Index för tabell `comment`
--
ALTER TABLE `comment`
  ADD PRIMARY KEY (`commentID`),
  ADD KEY `trailID` (`trailID`),
  ADD KEY `userID` (`userID`);

--
-- Index för tabell `image`
--
ALTER TABLE `image`
  ADD PRIMARY KEY (`imageID`),
  ADD KEY `trailID` (`trailID`);

--
-- Index för tabell `map`
--
ALTER TABLE `map`
  ADD PRIMARY KEY (`mapID`),
  ADD KEY `mapID` (`mapID`),
  ADD KEY `trailID` (`trailID`),
  ADD KEY `mapID_2` (`mapID`),
  ADD KEY `mapID_3` (`mapID`);

--
-- Index för tabell `trail`
--
ALTER TABLE `trail`
  ADD PRIMARY KEY (`trailID`),
  ADD KEY `userID` (`userID`),
  ADD KEY `trailID` (`trailID`);

--
-- Index för tabell `user`
--
ALTER TABLE `user`
  ADD PRIMARY KEY (`userID`),
  ADD KEY `userName` (`userName`),
  ADD KEY `userID` (`userID`);

--
-- Index för tabell `vote`
--
ALTER TABLE `vote`
  ADD PRIMARY KEY (`voteID`),
  ADD KEY `userID` (`userID`),
  ADD KEY `trailID` (`trailID`);

--
-- AUTO_INCREMENT för dumpade tabeller
--

--
-- AUTO_INCREMENT för tabell `comment`
--
ALTER TABLE `comment`
  MODIFY `commentID` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=24;
--
-- AUTO_INCREMENT för tabell `image`
--
ALTER TABLE `image`
  MODIFY `imageID` int(11) NOT NULL AUTO_INCREMENT;
--
-- AUTO_INCREMENT för tabell `map`
--
ALTER TABLE `map`
  MODIFY `mapID` int(11) NOT NULL AUTO_INCREMENT;
--
-- AUTO_INCREMENT för tabell `trail`
--
ALTER TABLE `trail`
  MODIFY `trailID` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=36;
--
-- AUTO_INCREMENT för tabell `user`
--
ALTER TABLE `user`
  MODIFY `userID` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=59;
--
-- AUTO_INCREMENT för tabell `vote`
--
ALTER TABLE `vote`
  MODIFY `voteID` int(255) NOT NULL AUTO_INCREMENT;
--
-- Restriktioner för dumpade tabeller
--

--
-- Restriktioner för tabell `comment`
--
ALTER TABLE `comment`
  ADD CONSTRAINT `comment_ibfk_1` FOREIGN KEY (`userID`) REFERENCES `user` (`userID`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `comment_ibfk_2` FOREIGN KEY (`trailID`) REFERENCES `trail` (`trailID`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Restriktioner för tabell `image`
--
ALTER TABLE `image`
  ADD CONSTRAINT `image_ibfk_1` FOREIGN KEY (`trailID`) REFERENCES `trail` (`trailID`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Restriktioner för tabell `map`
--
ALTER TABLE `map`
  ADD CONSTRAINT `map_ibfk_1` FOREIGN KEY (`trailID`) REFERENCES `trail` (`trailID`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Restriktioner för tabell `trail`
--
ALTER TABLE `trail`
  ADD CONSTRAINT `trail_ibfk_1` FOREIGN KEY (`userID`) REFERENCES `user` (`userID`) ON UPDATE CASCADE;

--
-- Restriktioner för tabell `vote`
--
ALTER TABLE `vote`
  ADD CONSTRAINT `vote_ibfk_1` FOREIGN KEY (`trailID`) REFERENCES `trail` (`trailID`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `vote_ibfk_2` FOREIGN KEY (`userID`) REFERENCES `user` (`userID`) ON DELETE CASCADE ON UPDATE CASCADE;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
